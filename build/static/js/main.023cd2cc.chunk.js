(this["webpackJsonpanimal-map"]=this["webpackJsonpanimal-map"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),l=a.n(o),c=(a(72),a(11)),i=a(55),s=(a(76),a(28)),u=a.n(s),m=a(34),d=a(20),p=a.n(d),g=function(e){var t=r.a.useState(""),a=Object(c.a)(t,2),n=a[0],o=a[1],l=function(){var t=Object(m.a)(u.a.mark((function t(a){var r,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(a),t.next=3,Object(d.geocodeByAddress)(a);case 3:return r=t.sent,t.next=6,Object(d.getLatLng)(r[0]);case 6:l=t.sent,console.log(l.lat,l.lng),e.setLocation({address:n,lat:l.lat,lng:l.lng});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(p.a,{value:n,onChange:function(e){console.log(e),o(e)},onSelect:l},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,o=e.loading;return r.a.createElement("div",null,r.a.createElement("input",t({placeholder:"Search Places ...",className:"location-search-input"})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},o&&r.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",n(e,{className:t,style:a}),r.a.createElement("span",null,e.description))}))))})))},f=a(2),v=a.n(f),E={center:{lat:32.06,lng:34.82},zoom:13.54},h=r.a.memo((function(e){e.events.forEach((function(e){}));var t=r.a.useState({address:"\u05d3\u05e8\u05da \u05de\u05e6\u05d3\u05d4 6, \u05d1\u05d0\u05e8 \u05e9\u05d1\u05e2, \u05d9\u05e9\u05e8\u05d0\u05dc",lat:31.2591166,lng:34.7955966}),a=Object(c.a)(t,2),n=a[0],o=a[1],l=r.a.useState({mapsApiLoaded:!1,mapInstance:null,mapsapi:null}),s=Object(c.a)(l,2),u=s[0],m=s[1];e.events.forEach((function(e){}));return navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){o({address:"",lat:e.coords.latitude,lng:e.coords.longitude})})),r.a.createElement("div",{style:{height:"100vh",width:"100%"}},u.mapsApiLoaded&&r.a.createElement(g,{map:u.mapInstance,mapsapi:u.mapsapi,placeholder:v.a.string,onPlacesChanged:v.a.func,location:n,setLocation:o}),r.a.createElement(i.a,{bootstrapURLKeys:{key:"AIzaSyAmu9nol12It2xvWk00g4NwocROPL2rFZs",language:"he",libraries:"places"},defaultCenter:E.center,defaultZoom:E.zoom,center:n,options:function(e){return{disableDefaultUI:!0,mapTypeControl:!0,streetViewControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},onClick:function(t){console.log(t.lat,t.lng);t.lat,t.lng;e.setCordinates({lat:t.lat,lng:t.lng})},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){!function(e,t){m({mapsApiLoaded:!0,mapInstance:e,mapsapi:t})}(e.map,e.maps)}},e.markers,r.a.createElement("script",{type:"text/javascript",src:"https://maps.google.com/maps/api/js?libraries=places&sensor=false"})))})),b=a(8),F=a(57),O=a(137),C=a(103),j=a(135),S=a(136),y=a(134),w=r.a.memo((function(e){var t=function(){var t=Object(m.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.geocodeByAddress)(a);case 2:return n=t.sent,t.next=5,Object(d.getLatLng)(n[0]);case 5:r=t.sent,e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{address:a,lat:r.lat,lng:r.lng}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(t){console.log("this is event: ",t.target.value),e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{typeOfEvent:t.target.value}))},n=function(t){e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{feederName:t.target.value}))},o=function(t){e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{feederPhone:t.target.value}))},l=function(t){e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{sterlizedCats:t.target.value}))},c=function(t){e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{unsterlizedCats:t.target.value}))};return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(j.a,{onChange:function(t){e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{date:t.target.value}))},id:"date",label:"Date and time of event:",type:"datetime-local",defaultValue:e.form.date,InputLabelProps:{shrink:!0}})),r.a.createElement("div",null,r.a.createElement("label",null,"address:"),r.a.createElement(p.a,{value:e.form.address,onChange:function(t){e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{address:t}))},onSelect:t},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,o=e.loading;return r.a.createElement("div",null,r.a.createElement("input",t({placeholder:"Search Places ...",className:"location-search-input"})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},o&&r.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",n(e,{className:t,style:a}),r.a.createElement("span",null,e.description))}))))}))),r.a.createElement("div",null,r.a.createElement(O.a,{htmlFor:"input"},"Insert name:"),r.a.createElement(C.a,{placeholder:"name",inputProps:{"aria-label":"description"},onChange:function(t){e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{nameOfPerson:t.target.value}))}})),r.a.createElement("div",null,r.a.createElement(O.a,{htmlFor:"input"},"Insert phone number:"),r.a.createElement(C.a,{inputProps:{"aria-label":"description"},onChange:function(t){/^0(5[^7]|[2-4]|[8-9]|7[0-9])[0-9]{7}$/.test(t.target.value)&&e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{phone:t.target.value}))}})),r.a.createElement("div",null,r.a.createElement(O.a,{htmlFor:"select"},"Type of animal:"),r.a.createElement(F.a,{id:"select",onChange:function(t){e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{animal:t.target.value}))}},r.a.createElement("option",{value:"Cat"},"Cat"),r.a.createElement("option",{value:"Fox"},"Fox"),r.a.createElement("option",{value:"Dog"},"Dog"),r.a.createElement("option",{value:"Jackle"},"Jackle")),r.a.createElement(O.a,{htmlFor:"number"},"Number of animals"),r.a.createElement("input",{type:"number",min:"0",onChange:function(t){e.setForm(Object(b.a)(Object(b.a)({},e.form),{},{numOfAnimals:t.target.value}))}}),r.a.createElement("div",null,r.a.createElement(O.a,{htmlFor:"select"},"Type of event:"),function(e){switch(e){case"Cat":return r.a.createElement(F.a,{id:"select",onChange:a},r.a.createElement("option",null),r.a.createElement("option",{value:"Feeded cats"},"Feeded cats"),r.a.createElement("option",{value:"None Feeded cats"},"None Feeded cats"),r.a.createElement("option",{value:"Giving Birth"},"Giving Birth"));case"Dog":return r.a.createElement(F.a,{id:"select",onChange:a},r.a.createElement("option",null),r.a.createElement("option",{value:"Wondering dog without owner"},"Wondering dog without owner"),r.a.createElement("option",{value:"Dog not on a leash with owner"},"Dog not on a leash with owner"),r.a.createElement("option",{value:"Wondering and aggressive dog"},"Wondering and aggressive dog"));case"Fox":case"Jackle":return r.a.createElement(F.a,{id:"select",onChange:a},r.a.createElement("option",null),r.a.createElement("option",{value:"Seen from a distance"},"Seen from a distance"),r.a.createElement("option",{value:"Seen with puppies"},"Seen with puppies"),r.a.createElement("option",{value:"Seen and came closer"},"Seen and came closer"),r.a.createElement("option",{value:"Seen aggressive/attacking"},"Seen aggressive/attacking"))}}(e.form.animal)),function(e){if("Cat"===e)return r.a.createElement("div",null,r.a.createElement(O.a,{htmlFor:"input"},"Name of feeder:"),r.a.createElement(C.a,{placeholder:"name",inputProps:{"aria-label":"description"},onChange:n}),r.a.createElement(O.a,{htmlFor:"input"},"Phone of feeder:"),r.a.createElement(C.a,{placeholder:"name",inputProps:{"aria-label":"description"},onChange:o}),r.a.createElement(O.a,{htmlFor:"number"},"Number of sterilized cats:"),r.a.createElement("input",{type:"number",min:"0",onChange:l}),r.a.createElement(O.a,{htmlFor:"number"},"Number of unsterilized cats:"),r.a.createElement("input",{type:"number",min:"0",onChange:c}))}(e.form.animal)),r.a.createElement("div",null,r.a.createElement(S.a,{variant:"contained",onClick:function(){return e.setShow(!1)}},"cancle")),r.a.createElement("div",null,r.a.createElement(S.a,{variant:"contained",type:"submit",color:"primary",endIcon:r.a.createElement(y.a,null,"send")},"Submit"))))})),k=r.a.memo((function(e){return r.a.createElement("div",null,r.a.createElement(O.a,{htmlFor:"select"},"Type of animal:"),r.a.createElement(F.a,{id:"select",value:e.animalFilter,onChange:function(t){return e.setAnimalFilter(t.target.value)}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"Cat"},"Cat"),r.a.createElement("option",{value:"Fox"},"Fox"),r.a.createElement("option",{value:"Dog"},"Dog"),r.a.createElement("option",{value:"Jackle"},"Jackle")),r.a.createElement(O.a,{htmlFor:"select"},"Type of event:"),function(t){switch(t){case"Cat":return r.a.createElement(F.a,{id:"select",onChange:function(t){return e.setEventFilter(t.target.value)}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"Feeded cats"},"Feeded cats"),r.a.createElement("option",{value:"None Feeded cats"},"None Feeded cats"),r.a.createElement("option",{value:"Giving Birth"},"Giving Birth"));case"Dog":return r.a.createElement(F.a,{id:"select",onChange:function(t){return e.setEventFilter(t.target.value)}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"Wondering dog without owner"},"Wondering dog without owner"),r.a.createElement("option",{value:"Dog not on a leash with owner"},"Dog not on a leash with owner"),r.a.createElement("option",{value:"Wondering and aggressive dog"},"Wondering and aggressive dog"));case"Fox":case"Jackle":return r.a.createElement(F.a,{id:"select",onChange:function(t){return e.setEventFilter(t.target.value)}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"Seen from a distance"},"Seen from a distance"),r.a.createElement("option",{value:"Seen with puppies"},"Seen with puppies"),r.a.createElement("option",{value:"Seen and came closer"},"Seen and came closer"),r.a.createElement("option",{value:"Seen aggressive/attacking"},"Seen aggressive/attacking"));case"":return r.a.createElement(F.a,{id:"select",onChange:function(t){return e.setEventFilter(t.target.value)}},r.a.createElement("option",{value:""}))}}(e.animalFilter),r.a.createElement(j.a,{onChange:function(t){return e.setStartDateFilter(t.target.value)},id:"date",label:"Start date:",type:"datetime-local",value:e.startDateFilter?e.startDateFilter:"yyyy-mm-dd",InputLabelProps:{shrink:!0}}),r.a.createElement(j.a,{onChange:function(t){return e.setEndDateFilter(t.target.value)},id:"date",label:"End date:",type:"datetime-local",value:e.endDateFilter?e.startDateFilter:"yyyy-mm-dd",InputLabelProps:{shrink:!0}}),r.a.createElement(S.a,{variant:"contained",onClick:function(){return e.setUseFilter(!0)}},"Filter"),r.a.createElement(S.a,{variant:"contained",onClick:function(){e.setUseFilter(!1),e.setAnimalFilter(""),e.setEventFilter(""),e.setStartDateFilter(void 0),e.setEndDateFilter(void 0)}},"Unfilter"))})),D=a(42),P=a.n(D),N="/api/forms",z=function(){return P.a.get("".concat(N)).then((function(e){return e.data}))},I=function(e){return P.a.post(N,e).then((function(e){return e.data}))},A=(a(101),function(e){var t=e.color,a=e.name;e.id;return r.a.createElement("div",null,r.a.createElement("div",{className:"pin bounce",style:{backgroundColor:t,cursor:"pointer"},title:a}),r.a.createElement("div",{className:"pulse"}))}),L=r.a.memo((function(){var e=Object(n.useState)({address:"",date:new Date,animal:"Cat",numOfAnimals:0,typeOfEvent:"",nameOfPerson:"",phone:"",lat:0,lng:0,feederName:"",feederPhone:"",sterlizedCats:0,unsterlizedCats:0}),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),i=Object(c.a)(l,2),s=i[0],u=(i[1],Object(n.useState)(!1)),m=Object(c.a)(u,2),d=m[0],p=m[1],g=Object(n.useState)([]),f=Object(c.a)(g,2),v=f[0],E=f[1],b=Object(n.useState)([]),F=Object(c.a)(b,2),O=(F[0],F[1],Object(n.useState)({lat:void 0,lng:void 0})),C=Object(c.a)(O,2),j=C[0],y=C[1],D=Object(n.useState)(""),P=Object(c.a)(D,2),N=P[0],L=P[1],x=Object(n.useState)(""),W=Object(c.a)(x,2),J=W[0],B=W[1],T=Object(n.useState)(),U=Object(c.a)(T,2),G=U[0],M=U[1],R=Object(n.useState)(),V=Object(c.a)(R,2),Z=V[0],$=V[1],K=Object(n.useState)(!1),q=Object(c.a)(K,2),H=q[0],Q=q[1],X=function(e){switch(e){case"Cat":return"yellow";case"Dog":return"blue";case"Fox":return"red";case"Jackal":return"green"}};Object(n.useEffect)((function(){console.log("effect"),z().then((function(e){return E(e.map((function(e){return r.a.createElement(A,{lat:e.lat,lng:e.lng,name:"".concat(e.animal,"\n ").concat(e.typeOfEvent,"\n ").concat(e.numOfAnimals,"\n ").concat(e.date,"\n ").concat(e.nameOfPerson,"\n ").concat(e.phone,"\n\n                ").concat("Cat"===e.animal?"feeder: "+e.feederName+"\nfeeder phone: "+e.feederPhone+"\nsterlized cats: "+e.sterlizedCats+"\nunsterlized cats: "+e.unsterlizedCats+"\n":"","  ").concat(e.address),color:X(e.animal)})})))}))}),[]);return d?r.a.createElement(w,{cordinates:j,setShow:p,form:a,setForm:o,handleSubmit:function(e){e.preventDefault(),console.log("im in handle1!!!!!!!!!!!"),I(a).then((function(e){E(v.concat(r.a.createElement(A,{lat:a.lat,lng:a.lng,name:"".concat(a.animal,"\n ").concat(a.typeOfEvent,"\n ").concat(a.numOfAnimals,"\n ").concat(a.date,"\n ").concat(a.nameOfPerson,"\n ").concat(a.phone,"\n\n                ").concat("Cat"===a.animal?"feeder: ".concat(a.feederName,"\nfeeder phone: ").concat(a.feederPhone,"\nsterlized cats: ").concat(a.sterlizedCats,"\n                \nunsterlized cats: ").concat(a.unsterlizedCats,"\n"):"","  ").concat(a.address),color:X(a.animal)}))),p(!1),o({address:"",date:new Date,animal:"Cat",numOfAnimals:0,typeOfEvent:"",nameOfPerson:"",phone:"",lat:0,lng:0,feederName:"",feederPhone:"",sterlizedCats:0,unsterlizedCats:0})})).catch((function(e){return console.log(e)}))}}):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(S.a,{variant:"contained",onClick:function(){return p(!d)}},"Fill a form")),r.a.createElement("div",null,r.a.createElement(k,{animalFilter:N,setAnimalFilter:L,eventFilter:J,setEventFilter:B,startDateFilter:G,setStartDateFilter:M,endDateFilter:Z,setEndDateFilter:$,setUseFilter:Q})),r.a.createElement("div",null,r.a.createElement(h,{events:s,toShow:p,markers:v,setMarkers:E,setCordinates:y,useFilter:H,animalFilter:N,eventFilter:J,startDateFilter:G,endDateFilter:Z})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,a){e.exports=a(102)},72:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.023cd2cc.chunk.js.map